{
  "provider": {
    "name": "Proximity API"
  },
  "consumer": {
    "name": "Android App"
  },
  "interactions": [
    {
      "description": "a proximity data submission",
      "request": {
        "method": "PATCH",
        "path": "/api/proximity-events/upload",
        "headers": {
          "Sonar-Message-Signature": "RN9wEMB/smfTRj8jxNxsXLo7i0puqEEhC9CyV6HINx8=",
          "Sonar-Request-Timestamp": "2020-05-19T00:52:26Z",
          "Content-Type": "application/json; charset=UTF-8"
        },
        "body": {
          "sonarId": "ffdd5d89-fd66-4c04-854d-f8d94f237504",
          "contactEvents": [
            {
              "duration": 258,
              "transmissionTime": 24,
              "countryCode": 18242,
              "rssiIntervals": [
                12,
                79,
                10,
                0,
                45,
                98
              ],
              "encryptedRemoteContactId": "R0K7Ufa6KYJxrgs4l40ZmiOg/QPcnPIeYc9Plz6Hgh1o5KUMFTwViHCtOKapQczG/Z02ko2AOTctzIWYWG4WQEj0oUNR9XI8z8qt9QpNhS+tuIa6v7g0n73fCDrYHxSM6x4e+7yacDkIXC+o8wAAAAMhv4Hc4IJQhxBwHJpLu/mC",
              "txPowerInProtocol": -11,
              "txPowerAdvertised": -18,
              "rssiValues": "PLQRprg3",
              "hmacSignature": "Ib+B3OCCUIcQcByaS7v5gg==",
              "timestamp": "2020-05-19T00:52:26Z"
            },
            {
              "duration": 575,
              "transmissionTime": 47,
              "countryCode": 18242,
              "rssiIntervals": [
                99,
                21,
                61,
                99,
                81,
                24,
                80,
                4,
                68
              ],
              "encryptedRemoteContactId": "R0K/4HHLO2j6eCPBwbTXoWA0x+5VaWbcAF+xf76lu7Ak+xLS78wril6lmrNfxGk7Du0FoHgkghOHbTRA6SfBmjgDvz8dl9rDmfSThVmPN5NfLuUOx0ae0iU21lrXn2WDd774X8gIzyonQT3G7gAAABv0aMVNCygzu5tWq5H+P89F",
              "txPowerInProtocol": -4,
              "txPowerAdvertised": -4,
              "rssiValues": "JC7WF/UsQgne",
              "hmacSignature": "9GjFTQsoM7ubVquR/j/PRQ==",
              "timestamp": "2020-05-19T00:52:26Z"
            },
            {
              "duration": 343,
              "transmissionTime": 8,
              "countryCode": 18242,
              "rssiIntervals": [
                37,
                31,
                82,
                42,
                21,
                41,
                14
              ],
              "encryptedRemoteContactId": "R0LSW4MpyxY5jnBgLuUM/A6Xd9yjSX367g/vv2QFmJC93PkJ7MzC++b1Hod4H9cRptTLxlXLRlXJekPQLSyNj1Q91MWup6SKJV6uh7zNyZmgYXt/74vxah3nLwrFqT6TQh6lFce0uZGHctoQ7gAAAAzIoerUikFNuuB75W01LXvu",
              "txPowerInProtocol": -11,
              "txPowerAdvertised": -17,
              "rssiValues": "6D/GuAFILQ==",
              "hmacSignature": "yKHq1IpBTbrge+VtNS177g==",
              "timestamp": "2020-05-19T00:52:26Z"
            },
            {
              "duration": 623,
              "transmissionTime": 0,
              "countryCode": 18242,
              "rssiIntervals": [
                55,
                85,
                11,
                64,
                34
              ],
              "encryptedRemoteContactId": "R0L4/bznlG6oJXxp94/GnCGwA2afHVZdriM9Vh/P6HCYwfTCQHeKXtHWfMyndc+YEJpPDFACuQu23gS/W48CC9wZqvANmt6kdnN6ktifGWS/S2xzAedP+w4rjmYfEO0+UcVyburxitYXmur9/QAAAAx2jM31VnOZKJ2YCLw1NVH0",
              "txPowerInProtocol": -11,
              "txPowerAdvertised": -16,
              "rssiValues": "Ocu07F4=",
              "hmacSignature": "dozN9VZzmSidmAi8NTVR9A==",
              "timestamp": "2020-05-19T00:52:26Z"
            },
            {
              "duration": 731,
              "transmissionTime": 12,
              "countryCode": 18242,
              "rssiIntervals": [
                94,
                93,
                99,
                37,
                10,
                93
              ],
              "encryptedRemoteContactId": "R0JusczJDWXj4DcRYD9Jb1lTlKYpZlI0/UOsAs19Tsruwv9KfyvmkWa03L93YCC0RVFx//P67XjS+4bIUFDUoU3v1k8/44NzUTYGdkdPrVX027gUXrFBtNrN59gD1EML1WeGeI9OVo0sR4147gAAABqMezzP1/30Zfu+FEi4W2NM",
              "txPowerInProtocol": -12,
              "txPowerAdvertised": -19,
              "rssiValues": "8qZiq6S9",
              "hmacSignature": "jHs8z9f99GX7vhRIuFtjTA==",
              "timestamp": "2020-05-19T00:52:26Z"
            },
            {
              "duration": 1,
              "transmissionTime": 47,
              "countryCode": 18242,
              "rssiIntervals": [
                99,
                21,
                33,
                22,
                29,
                20,
                18,
                93,
                50,
                94
              ],
              "encryptedRemoteContactId": "R0J4x47/G3W49DehXQcXx4JGEXLwV+Ii0fDMf43C+sYn5CvUqdzZ1pM/LEEGZzHlvIEntUlT98BFd2QIFmtRujxWWZh1hYsRQDTaKLJWx+JLxtcnCvDGuc0MaFpAPai1Ni+2VrmcCadI2+sc7gAAABy4QISc51rkAQsEnGgFAv1V",
              "txPowerInProtocol": -11,
              "txPowerAdvertised": -17,
              "rssiValues": "WqInGUftN7QQWA==",
              "hmacSignature": "uECEnOda5AELBJxoBQL9VQ==",
              "timestamp": "2020-05-19T00:52:26Z"
            },
            {
              "duration": 907,
              "transmissionTime": 13,
              "countryCode": 18242,
              "rssiIntervals": [
                23,
                25,
                42,
                90,
                46,
                80
              ],
              "encryptedRemoteContactId": "R0JL6QmWWZkwVcLa7zOMI78he/L/Xo3VIOU0M6+/P+d8hyc9JaaBuWGEMrxFcuBPcbNP0+xYrzUKq879ammgQGGSMTPJ2OaXMxYCicFi0eEnJACR++EhFPdAJqHvAl28X7j8TBiWnds4/qSw7gAAABmQ0lQYzwTNeT/YzjSbpWJ+",
              "txPowerInProtocol": -11,
              "txPowerAdvertised": -9,
              "rssiValues": "ykPLS+ve",
              "hmacSignature": "kNJUGM8EzXk/2M40m6Vifg==",
              "timestamp": "2020-05-19T00:52:26Z"
            },
            {
              "duration": 892,
              "transmissionTime": 16,
              "countryCode": 18242,
              "rssiIntervals": [
                38,
                82,
                69,
                42,
                24,
                45,
                63,
                40,
                38,
                34
              ],
              "encryptedRemoteContactId": "R0Ib2Ly4ofMBbMxmrlugnszCKf+n02dQ161omO7DGlvvSOOtcunuLAeQqcwNWZ6dYEFbiNv3Ud6eM3R86j6fic18uPw2PsY35nnnR6Foa50gyUZ1tUnIVa1IHrxh13PyuJU3os3cw7nPZB0X+wAAAAEXbyBq+MOi5m98gnk0NqOM",
              "txPowerInProtocol": -5,
              "txPowerAdvertised": -12,
              "rssiValues": "/li9/uHx/16wMw==",
              "hmacSignature": "F28gavjDouZvfIJ5NDajjA==",
              "timestamp": "2020-05-19T00:52:26Z"
            },
            {
              "duration": 4,
              "transmissionTime": 17,
              "countryCode": 18242,
              "rssiIntervals": [
                11,
                82,
                90,
                45,
                68,
                38,
                1,
                13,
                5
              ],
              "encryptedRemoteContactId": "R0KfU8u0sV+1ieTH7oNi5z83y468+MDLBKvi5m0SIj4nrGr/y8+txFd6iuFstMXwVdMXfxN5yQTq/iicQYAAwh8YX6gCN9ubr50VI45X+6bKMYnvTl1xC8+Qqo2V4BBHbHHVypUQkWqsnzvq+AAAAAv/04roaNGoaSkCcC/OIq0J",
              "txPowerInProtocol": -13,
              "txPowerAdvertised": -2,
              "rssiValues": "tuUf5vogGCc1",
              "hmacSignature": "/9OK6GjRqGkpAnAvziKtCQ==",
              "timestamp": "2020-05-19T00:52:26Z"
            }
          ],
          "symptomsTimestamp": "2020-05-19T00:52:26Z"
        },
        "matchingRules": {
          "header": {
            "Sonar-Request-Timestamp": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}Z"
                }
              ],
              "combine": "AND"
            }
          }
        }
      },
      "response": {
        "status": 204
      },
      "providerStates": [
        {
          "name": "a confirmed registration",
          "params": {
            "id": "ffdd5d89-fd66-4c04-854d-f8d94f237504",
            "key": "QIUfmVRG+mEFlLhUiufqzJuhKc+b+9TzMApWwDKgpNo="
          }
        },
        {
          "name": "the date and time is",
          "params": {
            "timestamp": "2020-05-19T00:52:26Z"
          }
        }
      ]
    },
    {
      "description": "a reference code request",
      "request": {
        "method": "PUT",
        "path": "/api/app-instances/linking-id",
        "headers": {
          "Sonar-Message-Signature": "CGgVcqp3xObfRAAZ15/iA1Z6RYcEiuWmQmflRyF4nRg=",
          "Sonar-Request-Timestamp": "2020-05-19T00:52:26Z",
          "Content-Type": "application/json; charset=UTF-8"
        },
        "body": {
          "sonarId": "20488f3a-05b4-4da0-a996-33f46d5807b3"
        },
        "matchingRules": {
          "header": {
            "Sonar-Request-Timestamp": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}Z"
                }
              ],
              "combine": "AND"
            }
          }
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json; charset=UTF-8"
        },
        "body": {
          "linkingId": "abcd-efgj"
        },
        "matchingRules": {
          "body": {
            "$.linkingId": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "[0-9-abcdefghjkmnpqrstvwxyz]{4,20}"
                }
              ],
              "combine": "AND"
            }
          },
          "header": {
            "Content-Type": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "application/json(;\\s?charset=[\\w\\-]+)?"
                }
              ],
              "combine": "AND"
            }
          }
        }
      },
      "providerStates": [
        {
          "name": "a confirmed registration",
          "params": {
            "id": "20488f3a-05b4-4da0-a996-33f46d5807b3",
            "key": "/N0fXKIZqsq97PByA5xW+YjOIjAQRh106aT22wxLTBQ="
          }
        },
        {
          "name": "the date and time is",
          "params": {
            "timestamp": "2020-05-19T00:52:26Z"
          }
        }
      ]
    }
  ],
  "metadata": {
    "pactSpecification": {
      "version": "3.0.0"
    },
    "pact-jvm": {
      "version": "4.0.10"
    }
  }
}